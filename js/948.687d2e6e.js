"use strict";(self["webpackChunkmoviewsd"]=self["webpackChunkmoviewsd"]||[]).push([[948],{8953:function(e,i,t){t.d(i,{A:function(){return g}});var s=t(6768),o=t(5130),a=t(4232);const n={class:"movie-card"},r=["src","alt"];function l(e,i,t,l,d,p){return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w500"+t.movie.poster_path,alt:t.movie.title,onClick:i[0]||(i[0]=(...e)=>p.toggleWishlist&&p.toggleWishlist(...e))},null,8,r),d.isWishlisted?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"wishlist-icon",onClick:i[1]||(i[1]=(0,o.D$)(((...e)=>p.toggleWishlist&&p.toggleWishlist(...e)),["stop"]))}," ★ ")):(0,s.Q3)("",!0),(0,s.Lk)("h3",null,(0,a.v_)(t.movie.title),1)])}t(4114),t(8992),t(7550);var d={props:{movie:Object},data(){return{isWishlisted:!1}},created(){this.checkWishlistStatus()},methods:{toggleWishlist(){const e=JSON.parse(localStorage.getItem("wishlist"))||[],i=e.findIndex((e=>e.id===this.movie.id));i>-1?(e.splice(i,1),this.isWishlisted=!1):(e.push(this.movie),this.isWishlisted=!0),localStorage.setItem("wishlist",JSON.stringify(e)),this.$emit("wishlist-updated")},checkWishlistStatus(){const e=JSON.parse(localStorage.getItem("wishlist"))||[];this.isWishlisted=e.some((e=>e.id===this.movie.id))}}},p=t(1241);const u=(0,p.A)(d,[["render",l],["__scopeId","data-v-de878ece"]]);var g=u},6948:function(e,i,t){t.r(i),t.d(i,{default:function(){return S}});var s=t(6768);function o(e,i,t,o,a,n){const r=(0,s.g2)("PopularMoviesTemplate");return(0,s.uX)(),(0,s.Wv)(r)}var a=t(4232),n=t(5130);const r={class:"home"},l={key:0,class:"loading"},d={key:1},p={key:0,class:"featured-movie"},u=["src","alt"],g={class:"featured-info"},v={class:"button-group"},c={class:"genre-sections"},h=["onWheel"];function m(e,i,t,o,m,y){const k=(0,s.g2)("MovieCard");return(0,s.uX)(),(0,s.CE)("div",r,[m.loading?((0,s.uX)(),(0,s.CE)("div",l," 데이터를 불러오는 중입니다... ")):((0,s.uX)(),(0,s.CE)("div",d,[m.featuredMovie?((0,s.uX)(),(0,s.CE)("div",p,[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/original"+m.featuredMovie.backdrop_path,alt:m.featuredMovie.title,class:"featured-image"},null,8,u),(0,s.Lk)("div",g,[(0,s.Lk)("h1",null,(0,a.v_)(m.featuredMovie.title),1),(0,s.Lk)("p",null,(0,a.v_)(m.featuredMovie.overview),1),(0,s.Lk)("div",v,[(0,s.Lk)("button",{class:"play-button",onClick:i[0]||(i[0]=(...e)=>y.playMovie&&y.playMovie(...e))},"▶ 재생"),(0,s.Lk)("button",{class:"details-button",onClick:i[1]||(i[1]=e=>y.goToDetails(m.featuredMovie.id))}," 상세정보 ")])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",c,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(m.genres,((e,i)=>((0,s.uX)(),(0,s.CE)("div",{key:e.name,class:"genre-section",ref_for:!0,ref:"genreSections"},[(0,s.Lk)("h2",null,(0,a.v_)(e.name),1),(0,s.Lk)("div",{class:"movie-slider",onWheel:(0,n.D$)((e=>y.handleScroll(e,i)),["prevent"])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.movies,(e=>((0,s.uX)(),(0,s.Wv)(k,{key:e.id,movie:e},null,8,["movie"])))),128))],40,h)])))),128))])]))])}t(4114);var y=t(8953),k=t(4373),f=t(7411),K={components:{MovieCard:y.A},data(){return{featuredMovie:null,genres:[{name:"최신",endpoint:"now_playing",movies:[]},{name:"인기",endpoint:"popular",movies:[]},{name:"코믹",genreId:35,movies:[]},{name:"액션",genreId:28,movies:[]},{name:"로맨스",genreId:10749,movies:[]}],apiKey:null,loading:!0}},async mounted(){const e=(0,f.dj)();if(this.apiKey=localStorage.getItem("apiKey"),!this.apiKey)return e.error("API Key가 없습니다. 로그인을 먼저 진행해주세요."),void this.$router.push("/signin");try{const e=await k.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${this.apiKey}&language=ko-KR&page=1`);this.featuredMovie=e.data.results[0];for(let i of this.genres){const e=i.endpoint?`https://api.themoviedb.org/3/movie/${i.endpoint}?api_key=${this.apiKey}&language=ko-KR&page=1`:`https://api.themoviedb.org/3/discover/movie?api_key=${this.apiKey}&with_genres=${i.genreId}&language=ko-KR&page=1`,t=await k.A.get(e);i.movies=t.data.results.slice(0,20)}}catch(i){console.error("영화 데이터를 불러오는 데 실패했습니다:",i.message),e.error("영화 데이터를 불러오는 데 실패했습니다. 다시 시도해주세요."),this.$router.push("/signin")}finally{this.loading=!1}},methods:{handleScroll(e,i){const t=this.$refs.genreSections[i].querySelector(".movie-slider");t.scrollLeft+=e.deltaY>0?100:-100},playMovie(){},goToDetails(e){this.$router.push({name:"movie-details",params:{id:e}})}}},$=t(1241);const M=(0,$.A)(K,[["render",m]]);var w=M,I={components:{MovieCard:y.A},data(){return{featuredMovie:null,genres:[{name:"최신",endpoint:"now_playing",movies:[]},{name:"인기",endpoint:"popular",movies:[]},{name:"코믹",genreId:35,movies:[]},{name:"액션",genreId:28,movies:[]},{name:"로맨스",genreId:10749,movies:[]}],apiKey:null,loading:!0}},async mounted(){const e=(0,f.dj)();if(this.apiKey=localStorage.getItem("apiKey"),!this.apiKey)return e.error("API Key가 없습니다. 로그인을 먼저 진행해주세요."),void this.$router.push("/signin");try{const e=await k.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${this.apiKey}&language=ko-KR&page=1`);this.featuredMovie=e.data.results[0];for(let i of this.genres){const e=i.endpoint?`https://api.themoviedb.org/3/movie/${i.endpoint}?api_key=${this.apiKey}&language=ko-KR&page=1`:`https://api.themoviedb.org/3/discover/movie?api_key=${this.apiKey}&with_genres=${i.genreId}&language=ko-KR&page=1`,t=await k.A.get(e);i.movies=t.data.results.slice(0,20)}}catch(i){console.error("영화 데이터를 불러오는 데 실패했습니다:",i.message),e.error("영화 데이터를 불러오는 데 실패했습니다. 다시 시도해주세요."),this.$router.push("/signin")}finally{this.loading=!1}},methods:{handleScroll(e,i){const t=this.$refs.genreSections[i].querySelector(".movie-slider");t.scrollLeft+=e.deltaY>0?100:-100},playMovie(){console.log("Play Movie clicked!")},goToDetails(e){this.$router.push({name:"movie-details",params:{id:e}})}}},_={components:{PopularMoviesTemplate:w},mixins:[I]};const C=(0,$.A)(_,[["render",o]]);var S=C}}]);
//# sourceMappingURL=948.687d2e6e.js.map