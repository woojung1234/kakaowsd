"use strict";(self["webpackChunkmoviewsd"]=self["webpackChunkmoviewsd"]||[]).push([[652],{4652:function(o,a,e){e.r(a),e.d(a,{default:function(){return r}});e(4114),e(4603),e(7566),e(8721);var t=e(4373),n=e(782),s=e(1387),c={setup(){const o=(0,n.Pj)(),a=(0,s.rd)(),e=async()=>{const e=new URLSearchParams(window.location.search).get("code");if(console.log("Authorization Code:",e),!e)return alert("Authorization code is missing. Please log in again."),a.push("/signin");try{const n=await t.A.post("https://kauth.kakao.com/oauth/token",new URLSearchParams({grant_type:"authorization_code",client_id:{NODE_ENV:"production",BASE_URL:"/kakaowsd/"}.VUE_APP_KAKAO_API_KEY,redirect_uri:{NODE_ENV:"production",BASE_URL:"/kakaowsd/"}.VUE_APP_REDIRECT_URI,code:e}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),s=n.data.access_token;console.log("Access Token:",s),localStorage.setItem("kakaoAccessToken",s),await o.dispatch("kakaoLogin",s),a.push({name:"home"})}catch(n){console.error("Kakao Token Exchange Failed:",n),alert("Failed to log in. Please try again."),a.push("/signin")}};return e(),{}}};const i=c;var r=i}}]);
//# sourceMappingURL=652.fb3a18b9.js.map